{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/main.ts","src/types.ts","src/util.ts"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","types_1","util_1","generateIdeology","ideologyParts","prefixCount","getRandomIntInclusive","push","prefixes","Math","floor","random","heads","ideologyName","forEach","part","concat","name","isAnarchist","includes","isNational","colorSet","Set","symbolSet","colors","color","add","symbols","symbol","size","has","Color","BLACK","delete","ctx","document","getElementById","getContext","fillStyle","fillRect","colorArray","Array","from","pop","h","l","shuffle","FlagType","__LENGTH","DIAGONAL_SPLIT","beginPath","moveTo","lineTo","fill","STRIPE","symbolArray","symbolImage_1","Image","addEventListener","drawImage","arc","PI","src","getFilename","WHITE","drawFlag","textContent","onclick","IdeologyPart","this","slice","RED","BLUE","GREEN","ORANGE","PINK","PURPLE","YELLOW","TEAL","s","Symbol","prototype","filename","ALGIZ","HS_CN","HS_CPUSA","HS_USSR","JUCHE","SWASTIKA","min","max","ceil","getRandomItem","set","items","j","_a"],"mappings":"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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import {\n    IdeologyPart,\n    Color,\n    Symbol,\n    FlagType,\n    prefixes,\n    heads,\n} from \"./types\";\nimport {\n    getRandomIntInclusive,\n    shuffle\n} from \"./util\";\n\nfunction drawFlag(ideologyParts: IdeologyPart[], ideologyName: string) {\n    const isAnarchist = (ideologyName.includes(\"anarch\") || ideologyName.includes(\"mutualism\"));\n    const isNational = (ideologyName.includes(\"national\") && !ideologyName.includes(\"international\"));\n    let colorSet = new Set<Color>();\n    let symbolSet = new Set<Symbol>();\n    ideologyParts.forEach(part => {\n        part.colors.forEach(color => {\n            colorSet.add(color);\n        });\n        part.symbols.forEach(symbol => {\n            symbolSet.add(symbol);\n        });\n    });\n\n    if (isAnarchist && colorSet.size > 1 && colorSet.has(Color.BLACK)) {\n        colorSet.delete(Color.BLACK);\n    }\n\n    let canvas = <HTMLCanvasElement>document.getElementById(\"flagCanvas\");\n    let ctx = canvas.getContext(\"2d\");\n    ctx.fillStyle = \"white\";\n    ctx.fillRect(0, 0, 600, 400);\n\n    let colorArray = Array.from(colorSet);\n\n    if ((colorArray.length == 2 && symbolSet.size > 0) || (colorArray.length == 1)) {\n        const color = colorArray.pop();\n        ctx.fillStyle = `hsl(${color.h}, 100%, ${color.l}%)`;\n        ctx.fillRect(0, 0, 600, 400);\n    } else {\n        shuffle(colorArray);\n        let color = colorArray.pop();\n        ctx.fillStyle = `hsl(${color.h}, 100%, ${color.l}%)`;\n        ctx.fillRect(0, 0, 600, 400);\n\n        color = colorArray.pop();\n        ctx.fillStyle = `hsl(${color.h}, 100%, ${color.l}%)`;\n        const flagType: FlagType = getRandomIntInclusive(0, FlagType.__LENGTH - 1);\n        switch (flagType) {\n            case FlagType.DIAGONAL_SPLIT: {\n                ctx.beginPath();\n                ctx.moveTo(0, 0);\n                ctx.lineTo(600, 0);\n                ctx.lineTo(600, 400);\n                ctx.fill();\n                break;\n            }\n            case FlagType.STRIPE: {\n                ctx.fillRect(0, 80, 600, 80);\n                ctx.fillRect(0, 240, 600, 80);\n            }\n        }\n    }\n\n    if (isAnarchist) {\n        ctx.fillStyle = \"black\";\n        ctx.beginPath();\n        ctx.moveTo(0, 400);\n        ctx.lineTo(600, 0);\n        ctx.lineTo(600, 400);\n        ctx.fill();\n    }\n\n    let symbolArray = Array.from(symbolSet);\n    shuffle(symbolArray);\n    if (symbolArray.length > 0) {\n        const symbolImage = new Image();\n        symbolImage.addEventListener('load', function () {\n            ctx.drawImage(symbolImage, 0, 0);\n        }, false);\n        if (isNational) { // draw black symbol in white circle\n            ctx.fillStyle = \"white\";\n            ctx.beginPath();\n            ctx.arc(300, 200, 160, 0, Math.PI * 2, false);\n            ctx.fill();\n\n            symbolImage.src = \"./images/symbol/\".concat(symbolArray[0].getFilename(Color.BLACK));\n        } else if (colorArray.length > 0) {\n            symbolImage.src = \"./images/symbol/\".concat(symbolArray[0].getFilename(colorArray.pop()));\n        } else {\n            symbolImage.src = \"./images/symbol/\".concat(symbolArray[0].getFilename(Color.WHITE));\n        }\n    }\n}\n\nfunction generateIdeology() {\n    let ideologyParts: IdeologyPart[] = [];\n    const prefixCount = getRandomIntInclusive(1, 3);\n\n    for (let i = 0; i < prefixCount; i++) {\n        ideologyParts.push(prefixes[Math.floor(Math.random() * prefixes.length)])\n    }\n\n    ideologyParts.push(heads[Math.floor(Math.random() * heads.length)])\n\n    let ideologyName = \"\";\n    ideologyParts.forEach(part => {\n        ideologyName = ideologyName.concat(part.name);\n    });\n\n    if (Math.random() < 0.01) {\n        ideologyName = ideologyName.concat(\" with chinese characteristics\");\n    }\n\n    drawFlag(ideologyParts, ideologyName);\n\n    document.getElementById(\"ideologyLabel\").textContent = ideologyName;\n}\n\n\n\ndocument.getElementById(\"regen\").onclick = generateIdeology;\ngenerateIdeology();","// ideology prefix or head plus associated colors and symbol\nclass IdeologyPart {\n    constructor(public name: string, public colors: Color[] = [], public symbols: Symbol[] = []) {\n        this.name = (name.slice(-1) === \"-\" ? name : name.concat(\" \"));\n        this.colors = colors;\n        this.symbols = symbols;\n    }\n}\n\n// HSL color\nclass Color {\n    constructor(public h: number, public s: number = 100, public l: number) {\n        this.h = h;\n        this.s = s;\n        this.l = l;\n    }\n    public static readonly RED = new Color(0, 100, 50);\n    public static readonly BLUE = new Color(240, 100, 50);\n    public static readonly GREEN = new Color(120, 100, 50);\n    public static readonly ORANGE = new Color(39, 100, 50);\n    public static readonly PINK = new Color(330, 100, 71);\n    public static readonly PURPLE = new Color(300, 100, 25);\n    public static readonly YELLOW = new Color(60, 100, 50);\n    public static readonly TEAL = new Color(180, 100, 25);\n    public static readonly WHITE = new Color(0, 0, 100);\n    public static readonly BLACK = new Color(0, 0, 0);\n}\n\nclass Symbol {\n    constructor(private filename: string) { this.filename = filename }\n    getFilename(c: Color) {\n        switch (c) {\n            case Color.RED: return this.filename.concat(\"_red.gif\");\n            case Color.BLUE: return this.filename.concat(\"_blue.gif\");\n            case Color.GREEN: return this.filename.concat(\"_green.gif\");\n            case Color.ORANGE: return this.filename.concat(\"_orange.gif\");\n            case Color.PINK: return this.filename.concat(\"_pink.gif\");\n            case Color.PURPLE: return this.filename.concat(\"_purple.gif\");\n            case Color.YELLOW: return this.filename.concat(\"_yellow.gif\");\n            case Color.TEAL: return this.filename.concat(\"_teal.gif\");\n            case Color.WHITE: return this.filename.concat(\"_white.gif\");\n            case Color.BLACK: return this.filename.concat(\"_black.gif\");\n        }\n    }\n\n    public static readonly ALGIZ = new Symbol(\"algiz\");\n    public static readonly HS_CN = new Symbol(\"hs_cn\");\n    public static readonly HS_CPUSA = new Symbol(\"hs_cpusa\");\n    public static readonly HS_USSR = new Symbol(\"hs_ussr\");\n    public static readonly JUCHE = new Symbol(\"juche\");\n    public static readonly SWASTIKA = new Symbol(\"swastika\");\n\n}\n\nenum FlagType {\n    STRIPE,\n    DIAGONAL_SPLIT,\n    __LENGTH\n}\n\nconst prefixes = [\n    new IdeologyPart(\"left-\", [Color.RED, Color.BLACK]),\n    new IdeologyPart(\"right-\", [Color.YELLOW, Color.BLUE]),\n    new IdeologyPart(\"proto-\"),\n    new IdeologyPart(\"post-\"),\n    new IdeologyPart(\"neo-\"),\n    new IdeologyPart(\"paleo-\"),\n    new IdeologyPart(\"marxism-\", [Color.RED], [Symbol.HS_CN, Symbol.HS_USSR]),\n    new IdeologyPart(\"leninism-\", [Color.RED], [Symbol.HS_USSR]),\n    new IdeologyPart(\"eco-\", [Color.GREEN]),\n    new IdeologyPart(\"techno-\"),\n    new IdeologyPart(\"crypto-\"),\n    new IdeologyPart(\"anarcho-\", [Color.BLACK]),\n    new IdeologyPart(\"anarcha-\", [Color.PURPLE]),\n    new IdeologyPart(\"alt-\"),\n    new IdeologyPart(\"cyber-\"),\n    new IdeologyPart(\"ultra-\"),\n    new IdeologyPart(\"judeo-\"),\n    new IdeologyPart(\"trans-exclusionary\", [Color.PURPLE]),\n    new IdeologyPart(\"classical\"),\n    new IdeologyPart(\"orthodox\"),\n    new IdeologyPart(\"post-left\"),\n    new IdeologyPart(\"left\", [Color.RED]),\n    new IdeologyPart(\"right\"),\n    new IdeologyPart(\"gender-abolitionist\", [Color.PURPLE, Color.PINK]),\n    new IdeologyPart(\"libertarian\", [Color.YELLOW]),\n    new IdeologyPart(\"conservative\", [Color.RED]),\n    new IdeologyPart(\"egoist\", [Color.TEAL]),\n    new IdeologyPart(\"authoritarian\"),\n    new IdeologyPart(\"christian\", [Color.ORANGE]),\n    new IdeologyPart(\"islamic\"),\n    new IdeologyPart(\"buddhist\"),\n    new IdeologyPart(\"green\", [Color.GREEN]),\n    new IdeologyPart(\"individualist\", [Color.YELLOW]),\n    new IdeologyPart(\"collectivist\", [Color.RED]),\n    new IdeologyPart(\"democratic\", [Color.BLUE]),\n    new IdeologyPart(\"radical\", [Color.RED]),\n    new IdeologyPart(\"utopian\"),\n    new IdeologyPart(\"scientific\"),\n    new IdeologyPart(\"egalitarian\"),\n    new IdeologyPart(\"hegelian\"),\n    new IdeologyPart(\"marxist\", [Color.RED]),\n    new IdeologyPart(\"primitive\", [Color.GREEN]),\n    new IdeologyPart(\"liberal\", [Color.YELLOW]),\n    new IdeologyPart(\"fascist\", [], [Symbol.SWASTIKA]),\n    new IdeologyPart(\"state\"),\n    new IdeologyPart(\"national\", [Color.RED]),\n    new IdeologyPart(\"international\"),\n    new IdeologyPart(\"queer\", [Color.PINK]),\n    new IdeologyPart(\"pagan\", [], [Symbol.ALGIZ])\n];\nconst heads = [\n    new IdeologyPart(\"anarchism\", [Color.BLACK]),\n    new IdeologyPart(\"communism\", [Color.RED], [Symbol.HS_CN, Symbol.HS_USSR, Symbol.HS_CPUSA]),\n    new IdeologyPart(\"socialism\", [Color.RED], [Symbol.HS_CN, Symbol.HS_USSR, Symbol.HS_CPUSA]),\n    new IdeologyPart(\"maoism\", [Color.RED, Color.YELLOW], [Symbol.HS_CN]),\n    new IdeologyPart(\"juche\", [Color.RED, Color.YELLOW], [Symbol.JUCHE]),\n    new IdeologyPart(\"marxism\", [Color.RED]),\n    new IdeologyPart(\"leninism\", [Color.RED, Color.YELLOW], [Symbol.HS_USSR]),\n    new IdeologyPart(\"trotskyism\", [Color.RED], [Symbol.HS_USSR]),\n    new IdeologyPart(\"deng xiaoping thought\", [Color.RED, Color.YELLOW], [Symbol.HS_CN]),\n    new IdeologyPart(\"posadism\", [Color.RED]),\n    new IdeologyPart(\"corporatism\", [Color.RED]),\n    new IdeologyPart(\"fascism\", [], [Symbol.SWASTIKA]),\n    new IdeologyPart(\"monarchism\", [Color.PURPLE]),\n    new IdeologyPart(\"democracy\", [Color.BLUE]),\n    new IdeologyPart(\"liberalism\", [Color.YELLOW]),\n    new IdeologyPart(\"libertarianism\", [Color.YELLOW]),\n    new IdeologyPart(\"centrism\", [Color.WHITE]),\n    new IdeologyPart(\"primitivism\", [Color.GREEN]),\n    new IdeologyPart(\"anarchism\", [Color.BLACK]),\n    new IdeologyPart(\"mutualism\", [Color.ORANGE]),\n    new IdeologyPart(\"individualism\", [Color.YELLOW]),\n]\n\nexport {\n    IdeologyPart,\n    Color,\n    Symbol,\n    FlagType,\n    prefixes,\n    heads\n};","function getRandomIntInclusive(min: number, max: number): number {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nfunction getRandomItem<T>(set: Set<T>): T {\n    const items = Array.from(set);\n    return items[Math.floor(Math.random() * items.length)];\n}\n\nfunction shuffle<T>(a: Array<T>) {\n    for (let i = a.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * (i + 1));\n        [a[i], a[j]] = [a[j], a[i]];\n    }\n}\nexport {\n    getRandomIntInclusive,\n    getRandomItem,\n    shuffle\n};"]}